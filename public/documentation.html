<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie API Documentation</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.production.css">
  <link rel="stylesheet" href="css/documentation.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Moderustic&display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">Movie API Docs</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#api-endpoints">API Endpoints</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#data-objects">Data Objects</a>
            </li>

          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main class="container profile">
    <h1 class="header__title">Movie API Documentation</h1>
    <p>
      Welcome to the documentation for MovieMobs API. This API provides access
      to information about movies, actors, directors, and genres.
    </p>

    <section id="api-endpoints">
      <h3>API Endpoints</h3>
      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead class="thead-dark">
            <tr>
              <th>Endpoint</th>
              <th>Method</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="3">
                <strong>Authentication Required for All Endpoints Below (except POST /users and POST /login)</strong>
                <br>
                A valid JWT token must be included in the 'Authorization' header as a Bearer token.
              </td>
            </tr>
            <tr>
              <td><span class="url">/</span></td>
              <td>GET</td>
              <td>Provides a welcome message.</td>
            </tr>
            <tr>
              <td><span class="url">/movies</span></td>
              <td>GET</td>
              <td>Retrieves a list of all movies available.</td>
            </tr>
            <tr>
              <td><span class="url">/movies/title/:title</span></td>
              <td>GET</td>
              <td>
                Finds and returns information about a single movie, identified
                by its title.
              </td>
            </tr>
            <tr>
              <td><span class="url">/movies</span></td>
              <td>POST</td>
              <td>
                Creates a new movie entry. Requires providing movie details in
                a specific format.
              </td>
            </tr>
            <tr>
              <td><span class="url">/movies/:movieId</span></td>
              <td>PUT</td>
              <td>
                Updates information for an existing movie, using its unique
                ID. Requires providing the updated movie details.
              </td>
            </tr>
            <tr>
              <td><span class="url">/movies/:movieId</span></td>
              <td>DELETE</td>
              <td>Removes a movie from the database, using its unique ID.</td>
            </tr>
            <tr>
              <td><span class="url">/movies/:movieId/actors</span></td>
              <td>GET</td>
              <td>
                Retrieves a list of actors who starred in a specific movie.
              </td>
            </tr>
            <tr>
              <td><span class="url">/users</span></td>
              <td>POST</td>
              <td>
                Registers a new user account. Requires providing user details
                in a specific format.
              </td>
            </tr>
            <tr>
              <td><span class="url">/users/:username</span></td>
              <td>PUT</td>
              <td>
                Updates information for an existing user account, using their
                username. Requires providing the updated user details.
                <br>
                <strong>Authorization:</strong> User can only update their own profile.
              </td>
            </tr>
            <tr>
              <td>
                <span class="url">/users/:username/favorites/:movieId</span>
              </td>
              <td>POST</td>
              <td>Adds a movie to a user's list of favorite movies.</td>
            </tr>
            <tr>
              <td>
                <span class="url">/users/:username/favorites/:movieId</span>
              </td>
              <td>DELETE</td>
              <td>Removes a movie from a user's list of favorite movies.</td>
            </tr>
            <tr>
              <td><span class="url">/users/:username</span></td>
              <td>DELETE</td>
              <td>Deletes a user account.</td>
            </tr>
            <tr>
              <td><span class="url">/genres</span></td>
              <td>GET</td>
              <td>Retrieves a list of all genres.</td>
            </tr>
            <tr>
              <td><span class="url">/genres/:name</span></td>
              <td>GET</td>
              <td>
                Finds and returns information about a single genre, identified
                by its name.
              </td>
            </tr>
            <tr>
              <td><span class="url">/genres</span></td>
              <td>POST</td>
              <td>
                Creates a new genre entry. Requires providing genre details in
                a specific format.
              </td>
            </tr>
            <tr>
              <td><span class="url">/genres/:name</span></td>
              <td>PUT</td>
              <td>
                Updates the description of an existing genre, using its name.
                Requires providing the updated description.
              </td>
            </tr>
            <tr>
              <td><span class="url">/genres/:name</span></td>
              <td>DELETE</td>
              <td>Removes a genre from the database, using its name.</td>
            </tr>
            <tr>
              <td><span class="url">/directors</span></td>
              <td>GET</td>
              <td>Retrieves a list of all directors.</td>
            </tr>
            <tr>
              <td><span class="url">/directors/name/:name</span></td>
              <td>GET</td>
              <td>
                Finds and returns information about a single director,
                identified by their name.
              </td>
            </tr>
            <tr>
              <td><span class="url">/directors/:directorId</span></td>
              <td>GET</td>
              <td>
                Finds and returns information about a single director,
                identified by their unique ID.
              </td>
            </tr>
            <tr>
              <td><span class="url">/directors</span></td>
              <td>POST</td>
              <td>
                Creates a new director entry. Requires providing director
                details in a specific format.
              </td>
            </tr>
            <tr>
              <td><span class="url">/directors/:directorId</span></td>
              <td>PUT</td>
              <td>
                Updates information for an existing director, using their
                unique ID. Requires providing the updated director details.
              </td>
            </tr>
            <tr>
              <td><span class="url">/directors/:directorId</span></td>
              <td>DELETE</td>
              <td>
                Removes a director from the database, using their unique ID.
              </td>
            </tr>
            <tr>
              <td><span class="url">/actors</span></td>
              <td>GET</td>
              <td>Retrieves a list of all actors.</td>
            </tr>
            <tr>
              <td><span class="url">/actors/name/:name</span></td>
              <td>GET</td>
              <td>
                Finds and returns information about a single actor, identified
                by their name.
              </td>
            </tr>
            <tr>
              <td><span class="url">/actors/:actorId</span></td>
              <td>GET</td>
              <td>
                Finds and returns information about a single actor, identified
                by their unique ID.
              </td>
            </tr>
            <tr>
              <td><span class="url">/actors</span></td>
              <td>POST</td>
              <td>
                Creates a new actor entry. Requires providing actor details in
                a specific format.
              </td>
            </tr>
            <tr>
              <td><span class="url">/actors/:actorId</span></td>
              <td>PUT</td>
              <td>
                Updates information for an existing actor, using their unique
                ID. Requires providing the updated actor details.
              </td>
            </tr>
            <tr>
              <td><span class="url">/actors/:actorId</span></td>
              <td>DELETE</td>
              <td>
                Removes an actor from the database, using their unique ID.
              </td>
            </tr>
            <tr>
              <td><span class="url">/admin/users</span></td>
              <td>GET</td>
              <td>(Admin) Retrieves a list of all user accounts.</td>
            </tr>
            <tr>
              <td><span class="url">/admin/movies</span></td>
              <td>GET</td>
              <td>
                (Admin) Retrieves a list of all movies with detailed
                information.
              </td>
            </tr>
            <tr>
              <td><span class="url">/admin/genres</span></td>
              <td>GET</td>
              <td>(Admin) Retrieves a list of all genres.</td>
            </tr>
            <tr>
              <td><span class="url">/admin/directors</span></td>
              <td>GET</td>
              <td>(Admin) Retrieves a list of all directors.</td>
            </tr>
            <tr>
              <td><span class="url">/admin/actors</span></td>
              <td>GET</td>
              <td>(Admin) Retrieves a list of all actors.</td>
            </tr>
            <tr>
              <td><span class="url">/</span></td>
              <td>GET</td>
              <td>Provides a welcome message.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="endpoint-details">
      <h3>Endpoint Details</h3>

      <section id="get-all-movies">
        <h4>Get all movies</h4>
        <p><code>GET /movies</code></p>
        <p>
          This endpoint retrieves a list of all the movies in the database.
        </p>
        <pre>
            [
                {
                    "_id": "string (ObjectId)",
                    "title": "string (required)",
                    "description": "string (required)",
                    "genre": { "name": "string", "description": "string" },
                    "director": { "name": "string", "bio": "string", "birth": "date (ISO 8601, e.g., 'YYYY-MM-DD')", "death": "date (ISO 8601, optional)" },
                    "actors": ["string (Actor Name)"],
                    "imagePath": "string (optional - URL to movie poster)",
                    "featured": "boolean (optional - indicates if movie is featured)",
                    "releaseYear": "number (optional - year of release)",
                    "rating": "number (optional - movie rating)",
                    "__v": "number"
                },
                // ... more movies
            ]
        </pre>
        <p>
          Status Codes: 200 OK, 500 Internal Server Error
        </p>
      </section>

      <section id="get-movie-by-title">
        <h4>Get movie by title</h4>
        <p><code>GET /movies/title/:title</code></p>
        <p>
          Retrieves a single movie by its title.
        </p>
        <pre>
          { "_id": "string (ObjectId)", "title": "string (required)", "description": "string (required)", "genre": { ... }, "director": { ... }, "actors": ["string (Actor Name)"], "imagePath": "string (optional - URL to movie poster)", "featured": "boolean (optional - indicates if movie is featured)", "releaseYear": "number (optional - year of release)", "rating": "number (optional - movie rating)", "__v": "number" }
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="get-movies-by-genre">
        <h4>Get movies by genre</h4>
        <p><code>GET /movies/genre/:genreName</code></p>
        <p>
          Retrieves a list of movies that belong to a specific genre.
        </p>
        <pre>
          [
            { "_id": "string (ObjectId)", "title": "string (required)", "description": "string (required)", "genre": { ... }, "director": { ... }, "actors": ["string (Actor Name)"], "imagePath": "string (optional - URL to movie poster)", "featured": "boolean (optional - indicates if movie is featured)", "releaseYear": "number (optional - year of release)", "rating": "number (optional - movie rating)", "__v": "number" },
            ...
          ]
        </pre>
        <p>
          Status Codes: 200 OK, 500 Internal Server Error
        </p>
      </section>

      <section id="get-movies-by-director">
        <h4>Get movies by director</h4>
        <p><code>GET /movies/director/:directorName</code></p>
        <p>
          Retrieves a list of movies directed by a particular director.
        </p>
        <pre>
          [
            { "_id": "string (ObjectId)", "title": "string (required)", "description": "string (required)", "genre": { ... }, "director": { ... }, "actors": ["string (Actor Name)"], "imagePath": "string (optional - URL to movie poster)", "featured": "boolean (optional - indicates if movie is featured)", "releaseYear": "number (optional - year of release)", "rating": "number (optional - movie rating)", "__v": "number" },
            ...
          ]
        </pre>
        <p>
          Status Codes: 200 OK, 500 Internal Server Error
        </p>
      </section>

      <section id="get-movie-by-id">
        <h4>Get movie by ID</h4>
        <p><code>GET /movies/:movieId</code></p>
        <p>
          Retrieves a single movie by its unique ID.
        </p>
        <pre>
          { "_id": "string (ObjectId)", "title": "string (required)", "description": "string (required)", "genre": { ... }, "director": { ... }, "actors": ["string (Actor Name)"], "imagePath": "string (optional - URL to movie poster)", "featured": "boolean (optional - indicates if movie is featured)", "releaseYear": "number (optional - year of release)", "rating": "number (optional - movie rating)", "__v": "number" }
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="create-new-movie">
        <h4>Create new movie</h4>
        <p><code>POST /movies</code></p>
        <p>
          Creates a new movie entry.
        </p>
        <p>
          Request Body:
          <pre>
            {
              "title": "string (required)",
              "description": "string (required)",
              "genre": "string (Genre Name)",
              "director": "string (Director Name)",
              "actors": ["string (Actor Name)"],
              "imagePath": "string (optional)",
              "featured": "boolean (optional)",
              "releaseYear": "number (optional)",
              "rating": "number (optional)"
            }
          </pre>
        </p>
        <pre>
          { "_id": "string (ObjectId)", "title": "string (required)", "description": "string (required)", "genre": { ... }, "director": { ... }, "actors": ["string (Actor Name)"], "imagePath": "string (optional)", "featured": "boolean", "releaseYear": "number (optional)", "rating": "number (optional)", "__v": "number" }
        </pre>
        <p>
          Status Codes: 201 Created, 400 Bad Request, 500 Internal Server Error
        </p>
      </section>

      <section id="update-movie">
        <h4>Update movie info by ID</h4>
        <p><code>PUT /movies/:movieId</code></p>
        <p>
          Updates information for an existing movie.
        </p>
        <p>
          Request Body: (all fields are optional)
          <pre>
            {
              "title": "string",
              "description": "string",
              "genre": "string (Genre Name)",
              "director": "string (Director Name)",
              "actors": ["string (Actor Name)"],
              "imagePath": "string",
              "featured": "boolean",
              "releaseYear": "number",
              "rating": "number"
            }
          </pre>
        </p>
        <pre>
          { "_id": "string (ObjectId)", "title": "string (required)", "description": "string (required)", "genre": { ... }, "director": { ... }, "actors": ["string (Actor Name)"], "imagePath": "string (optional)", "featured": "boolean", "releaseYear": "number (optional)", "rating": "number (optional)", "__v": "number" }
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="delete-movie">
        <h4>Delete a movie by ID</h4>
        <p><code>DELETE /movies/:movieId</code></p>
        <p>
          Deletes a movie from the database.
        </p>
        <pre>Movie deleted successfully.</pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="get-movie-cast">
        <h4>Get cast of a movie</h4>
        <p><code>GET /movies/:movieId/actors</code></p>
        <p>
          Retrieves a list of actors who starred in a specific movie.
        </p>
        <pre>
          [
            {
              "_id": "string (ObjectId)",
              "name": "string (Actor Name)"
            },
            ...
          ]
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="register-user">
        <h4>Register new user</h4>
        <p><code>POST /users</code></p>
        <p>
          Registers a new user account.
        </p>
        <p>
          Request Body:
          <pre>
            {
              "username": "string (required)",
              "password": "string (required)",
              "email": "string (required, valid email)",
              "birthday": "date (ISO 8601, optional, e.g., 'YYYY-MM-DD')",
              "firstname": "string (optional)",
              "lastname": "string (optional)"
            }
          </pre>
        </p>
        <pre>
          { "_id": "string (ObjectId)", "username": "string (required)", "email": "string (required)", "birthday": "date (ISO 8601, optional, e.g., 'YYYY-MM-DD')", "favoriteMovies": ["string (list of movie ObjectIds)"], "firstname": "string (optional)", "lastname": "string (optional)", "__v": "number" }
        </pre>
        <p>
          Note: The password is never returned in responses.
        </p>
        <p>
          Status Codes: 201 Created, 400 Bad Request, 500 Internal Server Error
        </p>
      </section>

      <section id="update-user">
        <h4>Update user information</h4>
        <p><code>PUT /users/:username</code></p>
        <p>
          Updates information for an existing user account.
        </p>
        <p>
          Request Body: (all fields are optional)
          <pre>
            {
              "password": "string (new password - will be hashed)",
              "email": "string (valid email)",
              "birthday": "date (ISO 8601, optional, e.g., 'YYYY-MM-DD')",
              "firstname": "string (optional)",
              "lastname": "string (optional)"
            }
          </pre>
        </p>
        <pre>
          { "_id": "string (ObjectId)", "username": "string", "email": "string", "birthday": "date (ISO 8601, optional, e.g., 'YYYY-MM-DD')", "favoriteMovies": ["string (list of movie ObjectIds)"], "firstname": "string (optional)", "lastname": "string (optional)", "__v": "number" }
        </pre>
        <p>
          Note: The password is never returned in responses.
        </p>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="add-favorite-movie">
        <h4>Add movie to favorites</h4>
        <p><code>POST /users/:username/favorites/:movieId</code></p>
        <p>
          Adds a movie to a user's list of favorite movies.
        </p>
        <pre>
          [
            {
              "_id": "string (ObjectId)",
              "title": "string (Movie Title)"
            },
            ...
          ]
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="remove-favorite-movie">
        <h4>Remove movie from favorites</h4>
        <p><code>DELETE /users/:username/favorites/:movieId</code></p>
        <p>
          Removes a movie from a user's list of favorite movies.
        </p>
        <pre>
          [
            {
              "_id": "string (ObjectId)",
              "title": "string (Movie Title)"
            },
            ...
          ]
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="deregister-user">
        <h4>Deregister user</h4>
        <p><code>DELETE /users/:username</code></p>
        <p>
          Deletes a user account.
        </p>
        <pre>User deregistered successfully.</pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error
        </p>
      </section>

      <section id="get-all-genres">
        <h4>Get all genres</h4>
        <p><code>GET /genres</code></p>
        <p>
          Retrieves a list of all genres.
        </p>
        <pre>
          [
            {
              "_id": "string (ObjectId)",
              "name": "string (required)",
              "description": "string (required)",
              "__v": "number"
            },
            ...
          ]
        </pre>
        <p>
          Status Codes: 200 OK, 500 Internal Server Error
        </p>
      </section>

      <section id="get-genre-by-name">
        <h4>Get genre by name</h4>
        <p><code>GET /genres/:name</code></p>
        <p>
          Retrieves a single genre by its name.
        </p>
        <pre>
          {
            "_id": "string (ObjectId)",
            "name": "string (required)",
            "description": "string (required)",
            "__v": "number"
          }
        </pre>
        <p>
          Status Codes: 200 OK, 404 Not Found, 500 Internal Server Error (Oops, something went wrong on our end!)
        </p>
    </section>
    </section>

    <section id="data-objects">
        <h3>Data Objects</h3>

        <section id="movie-object">
            <h4>Movie Object</h4>
            <pre>
                {
                    "_id": "string (ObjectId)",
                    "title": "string (required)",
                    "description": "string (required)",
                    "genre": {
                        "name": "string",
                        "description": "string"
                    },
                    "director": {
                        "name": "string",
                        "bio": "string",
                        "birth": "date (ISO 8601, e.g., 'YYYY-MM-DD')",
                        "death": "date (ISO 8601, optional)"
                    },
                    "actors": [
                        "string (Actor Name)"
                    ],
                    "imagePath": "string (optional - URL to movie poster)",
                    "featured": "boolean (optional - indicates if movie is featured)",
                    "releaseYear": "number (optional - year of release)",
                    "rating": "number (optional - movie rating)",
                    "__v": "number"
                }
            </pre>
        </section>

        <section id="user-object">
            <h4>User Object</h4>
            <pre>
                {
                    "_id": "string (ObjectId)",
                    "username": "string (required)",
                    "password": "string (required, hashed)",
                    "email": "string (required)",
                    "birthday": "date (ISO 8601, optional, e.g., 'YYYY-MM-DD')",
                    "favoriteMovies": [
                        "string (Movie ObjectId)"
                    ],
                    "firstname": "string (optional)",
                    "lastname": "string (optional)",
                    "__v": "number"
                }
            </pre>
            <p>
                Note: The password is <strong>never</strong> returned in responses for security reasons. It is stored in the database as a hashed value.
            </p>
        </section>

        <section id="genre-object">
            <h4>Genre Object</h4>
            <pre>
                {
                    "_id": "string (ObjectId)",
                    "name": "string (required)",
                    "description": "string (required)",
                    "__v": "number"
                }
            </pre>
        </section>

        <section id="director-object">
            <h4>Director Object</h4>
            <pre>
                {
                    "_id": "string (ObjectId)",
                    "name": "string (required)",
                    "bio": "string (required)",
                    "birth": "date (ISO 8601 format, optional - director's birthdate, e.g., '1970-12-01')",
                    "death": "date (ISO 8601 format, optional - director's date of death, e.g., '2023-06-15', if applicable)",
                    "__v": "number"
                }
            </pre>
        </section>

        <section id="actor-object">
            <h4>Actor Object</h4>
            <pre>
                {
                    "_id": "string (ObjectId)",
                    "name": "string (required)",
                    "bio": "string (required)",
                    "birth": "date (ISO 8601 format, optional - actor's birthdate, e.g., '1965-08-10')",
                    "death": "date (ISO 8601 format, optional - actor's date of death, e.g., '2024-03-22', if applicable)",
                    "pictureUrl": "string (optional - a link to the actor's picture)",
                    "__v": "number"
                }
            </pre>
        </section>
    </section>
</main>

<footer class="bg-light py-3 mt-5">
    <div class="container text-center">
        <p>&copy; 2025 MOVIEMOBS. All rights reserved.</p>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>